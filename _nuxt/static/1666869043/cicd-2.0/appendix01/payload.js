__NUXT_JSONP__("/cicd-2.0/appendix01", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b_,b$){return {data:[{document:{slug:"appendix01",description:aJ,title:aJ,position:201,category:"持續交付2.0：實務導向的DevOps",menuTitle:"Appendix 01",contributors:[aK],toc:[{id:ah,depth:aa,text:ah},{id:aL,depth:aa,text:aM},{id:aN,depth:K,text:aO},{id:aP,depth:K,text:aQ},{id:aR,depth:aa,text:aS},{id:aT,depth:aa,text:aU},{id:aV,depth:K,text:aW},{id:aX,depth:K,text:aY},{id:ai,depth:K,text:ai},{id:aj,depth:K,text:aj},{id:aZ,depth:K,text:a_},{id:a$,depth:K,text:ar},{id:ba,depth:K,text:as},{id:ak,depth:aa,text:ak}],body:{type:"root",children:[{type:b,tag:ab,props:{id:ah},children:[{type:b,tag:k,props:{href:"#%E5%89%8D%E8%A8%80",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ah}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"此章節主要是補充CI\u002FCD 2.0的11.7章節的內容。"}]},{type:a,value:e},{type:b,tag:ab,props:{id:aL},children:[{type:b,tag:k,props:{href:"#%E5%B8%B8%E7%94%A8%E7%9A%84%E8%B3%87%E6%96%99%E5%BA%AB%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0%E6%96%B9%E5%BC%8F%E6%9C%89%E4%B8%8B%E5%88%97%E5%85%A9%E7%A8%AE",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aM}]},{type:a,value:e},{type:b,tag:al,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"State-based tools"}]},{type:a,value:"  通過比較兩個資料庫中的結構模型而產生的腳本(script)，使用此腳本進行資料庫升級。"}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:b,tag:i,props:{},children:[{type:a,value:"Migration-based tools"}]},{type:a,value:" 創建遷移用的腳本，替資料庫從一個版本遷移到下一個版本。"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:L,props:{id:aN},children:[{type:b,tag:k,props:{href:"#state-based-tools-%E5%9F%BA%E6%96%BC%E7%8B%80%E6%85%8B%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aO}]},{type:a,value:e},{type:b,tag:j,props:{align:W},children:[{type:a,value:at},{type:b,tag:X,props:{src:"\u002Fcode-study\u002Fimages\u002Fcicd-2.0\u002Fa01\u002F001.png",width:bb},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bc},{type:b,tag:i,props:{},children:[{type:a,value:bd}]},{type:a,value:"模式底下，我們僅需要維護資料庫的目標狀態，每個"},{type:b,tag:P,props:{},children:[{type:a,value:"表(Table)"}]},{type:a,value:Y},{type:b,tag:P,props:{},children:[{type:a,value:"Stored Procedure"}]},{type:a,value:Y},{type:b,tag:P,props:{},children:[{type:a,value:"View"}]},{type:a,value:Y},{type:b,tag:P,props:{},children:[{type:a,value:"Trigger"}]},{type:a,value:"將保存為單獨的SQL文件，這些SQL文件就是資料庫真實的樣貌。而升級資料庫所需的腳本會由工具自動生成，從而大大減輕維護成本。"}]},{type:a,value:e},{type:b,tag:be,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"可以想像成MySQL中的mysqldump所建立的DDL表結構語法。"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bc},{type:b,tag:i,props:{},children:[{type:a,value:"IaC(Infrastructure-as-Code)"}]},{type:a,value:"領域中，Kubernetes、HashiCorp Terraform等流行軟體皆採用這種方式。"}]},{type:a,value:e},{type:b,tag:"aside",props:{},children:[{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,"language-text"]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"💡 目前最流行的做法是推薦此方式，但此方法會有缺點，由於Script是系統產生的，因此還是得自行注意細節。\n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:L,props:{id:aP},children:[{type:b,tag:k,props:{href:"#migration-based-tools-%E5%9F%BA%E6%96%BC%E9%81%B7%E7%A7%BB%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aQ}]},{type:a,value:e},{type:b,tag:j,props:{align:W},children:[{type:a,value:at},{type:b,tag:X,props:{src:"\u002Fcode-study\u002Fimages\u002Fcicd-2.0\u002Fa01\u002F002.png",width:bb},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"基於遷移的方法是將所有的遷移腳本儲存在Repository中。每一個腳本都包含了一系列的DDL語句，例如: CREATE\u002FALTER\u002FDROP TABLE。最終的資料庫中的資料表結構是由這些腳本按照順序的執行來完成的。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"相比"},{type:b,tag:i,props:{},children:[{type:a,value:bd}]},{type:a,value:"模式，該模式增加了成本的"},{type:b,tag:P,props:{},children:[{type:a,value:"維護"}]},{type:a,value:"和"},{type:b,tag:P,props:{},children:[{type:a,value:"複雜性"}]},{type:a,value:"，但它能讓我們更直接地控制"},{type:b,tag:P,props:{},children:[{type:a,value:"遷移過程"}]},{type:a,value:"，從而能夠處理如資料庫遷移這樣上下文相關的場景。"}]},{type:a,value:e},{type:b,tag:ab,props:{id:aR},children:[{type:b,tag:k,props:{href:"#database-version-control-tools",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aS}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"本圖片的來源資料，是參考"},{type:b,tag:k,props:{href:bf,rel:[Q,R,S],target:T},children:[{type:a,value:bg}]}]},{type:a,value:e},{type:b,tag:j,props:{align:W},children:[{type:a,value:at},{type:b,tag:X,props:{src:"\u002Fcode-study\u002Fimages\u002Fcicd-2.0\u002Fa01\u002F003.png",width:au},children:[]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:ab,props:{id:aT},children:[{type:b,tag:k,props:{href:"#liquibase%E5%BF%AB%E9%80%9F%E5%85%A5%E9%96%80",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aU}]},{type:a,value:e},{type:b,tag:L,props:{id:aV},children:[{type:b,tag:k,props:{href:"#%E5%AE%89%E8%A3%9Dcli",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aW}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"Liquibase版本，我們將採用4.15.0版本進行演示，記得必須要安裝Java 8以上(官方建議Java 11)。"}]},{type:a,value:e},{type:b,tag:G,props:{id:"win10"},children:[{type:b,tag:k,props:{href:"#win10",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Win10"}]},{type:a,value:e},{type:b,tag:am,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bh},{type:b,tag:k,props:{href:"https:\u002F\u002Fwww.liquibase.org\u002Fdownload?_ga=2.168149096.812788205.1662033186-1359190506.1661672342",rel:[Q,R,S],target:T},children:[{type:a,value:"官網載點"}]},{type:a,value:"或"},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Fliquibase\u002Fliquibase\u002Freleases",rel:[Q,R,S],target:T},children:[{type:a,value:bi}]},{type:a,value:"依照對應所需的版本進行安裝，我們使用zip檔進行安裝"}]},{type:a,value:U},{type:b,tag:j,props:{align:W},children:[{type:a,value:av},{type:b,tag:X,props:{src:"\u002Fcode-study\u002Fimages\u002Fcicd-2.0\u002Fa01\u002F004.png",width:"50%"},children:[]},{type:a,value:U}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"下載後進行解壓縮放到指定的路徑底下，將liquibase放置在"},{type:b,tag:i,props:{},children:[{type:a,value:bj}]},{type:a,value:bk}]},{type:a,value:U},{type:b,tag:j,props:{align:W},children:[{type:a,value:av},{type:b,tag:X,props:{src:"\u002Fcode-study\u002Fimages\u002Fcicd-2.0\u002Fa01\u002F005.png",width:au},children:[]},{type:a,value:U}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"設定系統環境變數，添加"},{type:b,tag:i,props:{},children:[{type:a,value:bj}]},{type:a,value:bk}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"測試指令，重新開啟Terminal，並輸入指令liquibase -v"}]},{type:a,value:U},{type:b,tag:j,props:{align:W},children:[{type:a,value:av},{type:b,tag:X,props:{src:"\u002Fcode-study\u002Fimages\u002Fcicd-2.0\u002Fa01\u002F006.png",width:au},children:[]},{type:a,value:U}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{id:aw},children:[{type:b,tag:k,props:{href:"#docker",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:"Docker"}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 下載image liquibase 4.15.0"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aw}]},{type:a,value:" pull liquibase\u002Fliquibase:4.15.0\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 查看liquibase版本，測試是否安裝成工"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:aw}]},{type:a,value:" run --rm liquibase\u002Fliquibase:4.15.0 -v\n"}]}]}]},{type:a,value:e},{type:b,tag:G,props:{id:bl},children:[{type:b,tag:k,props:{href:"#%E5%88%9D%E5%A7%8B%E5%8C%96liquibase",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bl}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 初始化專案"}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 查看初始化後的結果"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bn}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"## example-changelog.sql  liquibase.properties"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:L,props:{id:aX},children:[{type:b,tag:k,props:{href:"#%E5%AE%89%E8%A3%9Dpackage-manager",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aY}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"Liquibase提供預設Driver在"},{type:b,tag:i,props:{},children:[{type:a,value:"internal\\lib"}]},{type:a,value:"底下，但某些適合的資料庫Driver還是沒有提供，因此我們可以使用"},{type:b,tag:i,props:{},children:[{type:a,value:"Liquibase Package Manager"}]},{type:a,value:"來幫助我們快速的搜尋套件來完成。"}]},{type:a,value:e},{type:b,tag:be,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"更多的Liquibase Driver，參考"},{type:b,tag:k,props:{href:"https:\u002F\u002Fraw.githubusercontent.com\u002Fliquibase\u002Fliquibase-package-manager\u002Fmaster\u002Finternal\u002Fapp\u002Fpackages.json",rel:[Q,R,S],target:T},children:[{type:a,value:bg}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{id:bo},children:[{type:b,tag:k,props:{href:"#%E5%AE%89%E8%A3%9D",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bo}]},{type:a,value:e},{type:b,tag:am,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bh},{type:b,tag:k,props:{href:"https:\u002F\u002Fgithub.com\u002Fliquibase\u002Fliquibase-package-manager\u002Freleases",rel:[Q,R,S],target:T},children:[{type:a,value:bi}]},{type:a,value:"進行下載，點選對應的OS進行下載，這邊採用Win10進行舉例。"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"下載完成後解壓縮，設定環境變數 → 系統變數 → Path → 編輯環境變數 → 加上"},{type:b,tag:i,props:{},children:[{type:a,value:"D:\\tool\\lpm-0.1.7-windows"}]},{type:a,value:" → 重啟終端機(Terminal)"}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{id:bp},children:[{type:b,tag:k,props:{href:"#%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bp}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 查看目前可以使用的lib"}]},{type:a,value:"\nlpm update\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 查看套件版本"}]},{type:a,value:"\nlpm -v\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 搜尋套件mongodb名稱"}]},{type:a,value:"\nlpm search mongodb\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 將mongodb加入到套件中"}]},{type:a,value:"\nlpm "},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bq}]},{type:a,value:" -g mongodb\nlpm "},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bq}]},{type:a,value:" -g liquibase-mongodb\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 查看目前加入的套件"}]},{type:a,value:"\nlpm list\n"}]}]}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"💡 指令"},{type:b,tag:i,props:{},children:[{type:a,value:"lpm add"}]},{type:a,value:"的參數"},{type:b,tag:i,props:{},children:[{type:a,value:"-g"}]},{type:a,value:"說明 "},{type:b,tag:"br",props:{},children:[]}]},{type:a,value:e},{type:b,tag:al,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:"使用global會將套件安裝到lib資料夾中，此資料夾為liquibase預設的lib資料夾"}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:"沒使用global則會安裝到liquibase_libs底下，必須再額外執行"},{type:b,tag:i,props:{},children:[{type:a,value:"JAVA_OPTS"}]},{type:a,value:"來設定Java環境"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:L,props:{id:ai},children:[{type:b,tag:k,props:{href:"#%E5%9F%B7%E8%A1%8C%E6%96%B9%E5%BC%8F",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ai}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"一般liquibase的執行有兩種方式，分別為"}]},{type:a,value:e},{type:b,tag:al,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:"完全的CLI指令，不需要透過"},{type:b,tag:i,props:{},children:[{type:a,value:an}]},{type:a,value:"設定"}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:"使用CLI指令搭配"},{type:b,tag:i,props:{},children:[{type:a,value:an}]},{type:a,value:"設定檔"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:L,props:{id:aj},children:[{type:b,tag:k,props:{href:"#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:aj}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 初始化liquibase"}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 產生changelog並把log等級debug寫入到error.log"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"error.log generateChangeLog\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# liquibase更新資料庫"}]},{type:a,value:"\nliquibase update\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# liquibase更新資料庫，並且指定某個shopping_cart"}]},{type:a,value:"\nliquibase --labels"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\"feature\u002Fshopping_cart\""}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# liquibase更新資料庫，指定dev環境上版本"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"debug --contexts"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\"dev\""}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 替目前最後一筆DATABASECHANGELOG，進行tag上版本"}]},{type:a,value:"\nliquibase tag version_1.3\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bs}]},{type:a,value:"\nliquibase drop-all\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 往回退回一個changeset版本"}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 退回到version_1.3的tag版本"}]},{type:a,value:"\nliquibase rollback version_1.3\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 查看changeset的列表"}]},{type:a,value:"\nliquibase status --verbose\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 驗證dbchangelog.xml的格式是否正確"}]},{type:a,value:"\nliquibase validate\n"}]}]}]},{type:a,value:e},{type:b,tag:L,props:{id:aZ},children:[{type:b,tag:k,props:{href:"#%E5%BE%9E%E7%8F%BE%E6%9C%89%E8%B3%87%E6%96%99%E5%BA%AB%E7%94%A2%E7%94%9Fchangelog",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:a_}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 從現有資料庫產生ChangeLog"}]},{type:a,value:"\nliquibase --driver"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"com.microsoft.sqlserver.jdbc.SQLServerDriver "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Z}]},{type:a,value:"\n  --classpath"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"D:\u002Ftool\u002Fliquibase-4.15.0\u002Finternal\u002Flib\u002Fmssql-jdbc.jar "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Z}]},{type:a,value:"\n  --url"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"jdbc:sqlserver:\u002F\u002F127.0.0.1:1433"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,bu,bv]},children:[{type:a,value:"database"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:bw},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:b,tag:c,props:{className:[d,bu,bv]},children:[{type:a,value:"trustServerCertificate"}]},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:o},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Z}]},{type:a,value:"\n  --changeLogFile"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"dbchangelog-test.xml "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Z}]},{type:a,value:"\n  --username"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"test "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Z}]},{type:a,value:"\n  --password"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"12345678"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:Z}]},{type:a,value:"\n  generateChangeLog\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 查看產生的結果"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bn}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"##dbchangelog-test.xml"}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:L,props:{id:a$},children:[{type:b,tag:k,props:{href:"#migration-based",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ar}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"傳統的Migration方式，藉由Script版本來進行控制。"}]},{type:a,value:e},{type:b,tag:G,props:{id:ay},children:[{type:b,tag:k,props:{href:"#%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ay}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bx},{type:b,tag:i,props:{},children:[{type:a,value:bw}]},{type:a,value:by}]},{type:a,value:e},{type:b,tag:G,props:{id:bz},children:[{type:b,tag:k,props:{href:"#%E6%96%B0%E5%A2%9E%E8%B3%87%E6%96%99",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bz}]},{type:a,value:e},{type:b,tag:am,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bA},{type:b,tag:i,props:{},children:[{type:a,value:an}]}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,bB]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"classpath=D"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ao}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ao}]},{type:a,value:"jdbc.jar\ndriver=com.microsoft.sqlserver.jdbc.SQLServerDriver\nurl=jdbc"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:"1433;database=Test_Liquibase_Demo;trustServerCertificate=true;\nusername=test\npassword=12345678\nchangeLogFile=dbchangelog.xml\nliquibase.hub.mode=off\n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"初始化ChangeLog(產生dbchangelog.xml)"}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 初始化，將錯誤訊息，塞入到error.log中"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"error.log generateChangeLog          \n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:aB},{type:b,tag:i,props:{},children:[{type:a,value:bE}]}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,bF]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bG}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--changeset changemyminds:00001 labels:first-time"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--comment Create Users table"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bH}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bI}]},{type:a,value:" Users "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"-- 使用者編號"}]},{type:a,value:"\n    ID "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:af}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bK}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"FOR"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"REPLICATION"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"-- 使用者姓名"}]},{type:a,value:"\n    Username NVARCHAR "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"-- 使用者密碼"}]},{type:a,value:"\n    Password NVARCHAR "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"-- 使用者狀態"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bL}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bJ}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--rollback DELETE FROM Users;"}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--changeset changemyminds:00002 labels:first-time"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--comment Insert default users"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aD}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aE}]},{type:a,value:"\n    Users "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:a,value:"Username"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:" Password"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bL}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aF}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'Darren'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'spyua'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'Jimpo'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'frank'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:ap}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--rollback DELETE FROM Users WHERE Username='Darren' OR Username='spyua OR Username='Jimpo OR Username='frank'    "}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:aB},{type:b,tag:i,props:{},children:[{type:a,value:bM}]}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,bF]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bG}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--changeset changemyminds:00003 labels:feature\u002Fshopping_cart"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--comment Create table SHOES"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bH}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bI}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bN}]},{type:a,value:"ID"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bO}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bN}]},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bO}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bK}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:_}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,ae]},children:[{type:a,value:af}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"PRIMARY"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"KEY"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"\n Brand "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:"VARCHAR"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:aC}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:"\n Size "},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:bP}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:" \n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--rollback DROP TABLE SHOES"}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--changeset changemyminds:00004 labels:feature\u002Fshopping_cart"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--comment Insert shoes record"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aD}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aE}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'Addias'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"100"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aD}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aE}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:a,value:bQ},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:bR},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,n]},children:[{type:a,value:aF}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:z}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"'NewBlance'"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:p}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:"400"}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:O}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"--rollback DELETE FROM SHOES WHERE Brand='Addias' OR Brand='NewBlance'"}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bA},{type:b,tag:i,props:{},children:[{type:a,value:"dbchangelog.xml"}]}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,"language-xml"]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,"prolog"]},children:[{type:a,value:"\u003C?xml version=\"1.1\" encoding=\"UTF-8\" standalone=\"no\"?\u003E"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ag}]},{type:a,value:bS}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"xmlns"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002Fdbchangelog"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:aH}]},{type:a,value:"ext"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002Fdbchangelog-ext"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:"     "},{type:b,tag:c,props:{className:[d,H]},children:[{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:aH}]},{type:a,value:"pro"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002Fpro"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:aH}]},{type:a,value:"xsi"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"http:\u002F\u002Fwww.w3.org\u002F2001\u002FXMLSchema-instance"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:b,tag:c,props:{className:[d,aq]},children:[{type:a,value:"xsi:"}]},{type:a,value:"schemaLocation"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"http:\u002F\u002Fwww.    liquibase.org\u002Fxml\u002Fns\u002Fdbchangelog-ext http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002Fdbchangelog\u002Fdbchangelog-ext.xsd http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002Fpro     http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002Fpro\u002Fliquibase-pro-latest.xsd http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002Fdbchangelog http:\u002F\u002Fwww.liquibase.org\u002Fxml\u002Fns\u002F    dbchangelog\u002Fdbchangelog-latest.xsd"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ag}]},{type:a,value:bT}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:bE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aI}]}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ag}]},{type:a,value:bT}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:bU}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:bM},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aI}]}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"\u003C!-- 新增Tag版本 --\u003E"}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ag}]},{type:a,value:bV}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"id"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"tag_1.2"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:"author"}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:aK},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]}]},{type:a,value:"\n        "},{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ag}]},{type:a,value:"tagDatabase"}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,H]},children:[{type:a,value:B}]},{type:b,tag:c,props:{className:[d,I]},children:[{type:b,tag:c,props:{className:[d,f,J]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]},{type:a,value:"version_1.2"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:u}]}]},{type:a,value:h},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aI}]}]},{type:a,value:D},{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bW}]},{type:a,value:bV}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,B]},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:bW}]},{type:a,value:bS}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:$}]}]},{type:a,value:e}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{id:bX},children:[{type:b,tag:k,props:{href:"#%E5%B8%B8%E8%A6%8B%E6%93%8D%E4%BD%9C",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:bX}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 執行first-time標籤，進行migration"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"debug --labels"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"\"first-time\""}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 執行全部的migration"}]},{type:a,value:ac},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"debug update\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 執行rollback"}]},{type:a,value:bt},{type:b,tag:c,props:{className:[d,C]},children:[{type:a,value:N}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:bs}]},{type:a,value:"\nliquibase drop-all\n"}]}]}]},{type:a,value:e},{type:b,tag:L,props:{id:ba},children:[{type:b,tag:k,props:{href:"#state-based",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:as}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"某些情況下我們想要比較Database的版本，例如: 測試機的"},{type:b,tag:i,props:{},children:[{type:a,value:bY}]},{type:a,value:"和正式機的"},{type:b,tag:i,props:{},children:[{type:a,value:bY}]},{type:a,value:"中的差異，然後自動產生正式機可以使用SQL Script來讓我進行操作。"}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"我們需要利用"},{type:b,tag:i,props:{},children:[{type:a,value:bZ}]},{type:a,value:Y},{type:b,tag:i,props:{},children:[{type:a,value:"diffChangeLog"}]},{type:a,value:Y},{type:b,tag:i,props:{},children:[{type:a,value:"updateSQL"}]},{type:a,value:Y},{type:b,tag:i,props:{},children:[{type:a,value:"futureRollbackSQL"}]},{type:a,value:"來完成。"}]},{type:a,value:e},{type:b,tag:"alert",props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"使用"},{type:b,tag:i,props:{},children:[{type:a,value:as}]},{type:a,value:"方式，由於產生的腳本(script)是由"},{type:b,tag:i,props:{},children:[{type:a,value:"Liquibase"}]},{type:a,value:"進行產生的，因此可能會有差異，建議還是要檢查，若沒有安全感的話，建議還是使用"},{type:b,tag:i,props:{},children:[{type:a,value:ar}]},{type:a,value:"比較可以自己掌控。"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:G,props:{id:"前置作業-1"},children:[{type:b,tag:k,props:{href:"#%E5%89%8D%E7%BD%AE%E4%BD%9C%E6%A5%AD-1",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ay}]},{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:bx},{type:b,tag:i,props:{},children:[{type:a,value:"Test_Liquibase_Demo_Prod"}]},{type:a,value:by}]},{type:a,value:e},{type:b,tag:G,props:{id:b_},children:[{type:b,tag:k,props:{href:"#%E5%9F%B7%E8%A1%8C%E6%93%8D%E4%BD%9C",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:b_}]},{type:a,value:e},{type:b,tag:am,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:aB},{type:b,tag:i,props:{},children:[{type:a,value:an}]}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,bB]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 連線的驅動driver"}]},{type:a,value:"\nclasspath=D"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:bC},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ao}]},{type:a,value:bD},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ao}]},{type:a,value:"jdbc.jar\ndriver=com.microsoft.sqlserver.jdbc.SQLServerDriver\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 產生的檔案"}]},{type:a,value:"\nchangeLogFile=dbchangelog.xml\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 關閉hub"}]},{type:a,value:"\nliquibase.hub.mode=off\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 正式機資料庫"}]},{type:a,value:"\nurl=jdbc"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:"1433;databaseName=Test_Liquibase_Demo_Prod;trustServerCertificate=true;\nusername=test\npassword=12345678\n  \n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 參考的測試機資料庫"}]},{type:a,value:"\nreferenceUrl=jdbc"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:aA},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:F}]},{type:a,value:"1433;databaseName=Test_Liquibase_Demo;trustServerCertificate=true;\nreferenceUsername=test\nreferencePassword=12345678\n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"執行指令"}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 對資料庫進行兩者差異的比較，並將結果寫入到檔案中"}]},{type:a,value:"\nliquibase "},{type:b,tag:c,props:{className:[d,V]},children:[{type:a,value:bZ}]},{type:a,value:" --outputFile"},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:l}]},{type:a,value:"diff_between_DEV_PROD.log\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 對資料庫進行兩者差異的比較，並且產生changelog"}]},{type:a,value:"\nliquibase diffChangeLog\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 創建差異的SQL"}]},{type:a,value:"\nliquibase updateSQL "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:$}]},{type:a,value:" update.sql\n\n"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"# 也可以產生rollback的sql"}]},{type:a,value:"\nliquibase futureRollbackSQL "},{type:b,tag:c,props:{className:[d,m]},children:[{type:a,value:$}]},{type:a,value:" rollback.sql\n"}]}]}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:a,value:e},{type:b,tag:j,props:{},children:[{type:a,value:"更新正式機資料庫"}]},{type:a,value:e},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,M]},children:[{type:b,tag:i,props:{},children:[{type:a,value:"liquibase update\n"}]}]}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:ab,props:{id:ak},children:[{type:b,tag:k,props:{href:"#%E5%8F%83%E8%80%83",ariaHidden:o,tabIndex:q},children:[{type:b,tag:c,props:{className:[r,s]},children:[]}]},{type:a,value:ak}]},{type:a,value:e},{type:b,tag:al,props:{},children:[{type:a,value:e},{type:b,tag:t,props:{},children:[{type:b,tag:k,props:{href:"https:\u002F\u002Fdocs.liquibase.com\u002Fhome.html",rel:[Q,R,S],target:T},children:[{type:a,value:"liquibase"}]}]},{type:a,value:e},{type:b,tag:t,props:{},children:[{type:b,tag:k,props:{href:bf,rel:[Q,R,S],target:T},children:[{type:a,value:"version-control-tools"}]}]},{type:a,value:e}]}]},dir:"\u002Fzh\u002Fcicd-2.0",path:"\u002Fzh\u002Fcicd-2.0\u002Fappendix01",extension:".md",createdAt:b$,updatedAt:b$,readingStats:{text:"10 min read",minutes:9.31,time:558600,words:1862},to:"\u002Fcicd-2.0\u002Fappendix01"},prev:{title:"Appendix 00 使用Gitlab做CI\u002FCD",path:"\u002Fzh\u002Fcicd-2.0\u002Fappendix00",to:"\u002Fcicd-2.0\u002Fappendix00"},next:{title:"第2章 EndPoint設計與請求形式",path:"\u002Fzh\u002Fweb-api\u002Fchapter2",to:"\u002Fweb-api\u002Fchapter2"}}],fetch:{},mutations:[]}}("text","element","span","token","\n","punctuation","comment"," ","code","p","a","=","operator","keyword","true",",",-1,"icon","icon-link","li","\"","div","nuxt-content-highlight","pre","line-numbers","(",")","tag","number","\n    ","string",":","h4","attr-name","attr-value","attr-equals",3,"h3","language-bash","1",";","strong","nofollow","noopener","noreferrer","_blank","\n ","function","center","img","、","\\","NOT","\u003E",2,"h2","\nliquibase --log-level","\n\n","boolean","NULL","\u003C","前言","執行方式","常用命令","參考","ul","ol","liquibase.properties","-","'11111111'","namespace","Migration-based","State-based","\n  ","100%","\n   ","docker"," update\n\n","前置作業","sqlserver","\u002F\u002F127.0.0.1","新增","50","INSERT","INTO","VALUES"," SHOES","xmlns:","\u002F\u003E","Appendix 01 Database Version Control","changemyminds","常用的資料庫版本更新方式有下列兩種","常用的資料庫版本更新方式，有下列兩種","state-based-tools-基於狀態的版本控制","State-based tools (基於狀態的版本控制)","migration-based-tools-基於遷移的版本控制","Migration-based tools (基於遷移的版本控制)","database-version-control-tools","Database Version Control Tools","liquibase快速入門","Liquibase快速入門","安裝cli","安裝CLI","安裝package-manager","安裝Package Manager","從現有資料庫產生changelog","從現有資料庫產生ChangeLog","migration-based","state-based","70%","在","state based","blockquote","https:\u002F\u002Fdbmstools.com\u002Fcategories\u002Fversion-control-tools","網址","前往","Github Release","D:\\tool\\liquibase-4.15.0","路徑","初始化liquibase","\nliquibase init project\n\n","ls","安裝","常用指令","add","debug --logFile","# 將所有指定的資料庫中的所有資料表丟棄 (包含非liquibase創建)","\nliquibase rollbackCount ","assign-left","variable","Test_Liquibase_Demo","請先在SQL Serer中建立","資料庫。","新增資料","修改","language-yaml","\u002Ftool\u002Fliquibase","4.15.0\u002Finternal\u002Flib\u002Fmssql","DbChangeLog_V1.0.sql","language-sql","--liquibase formatted sql","CREATE","TABLE","INTEGER","IDENTITY","Status","DbChangeLog_V1.1.sql","[","]","bigint","Brand"," Size","databaseChangeLog","include","file","changeSet","\u003C\u002F","常見操作","Schema","diff","執行操作","2022-10-27T11:09:27.051Z")));